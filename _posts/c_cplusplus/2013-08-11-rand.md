---
layout: post
title: "随机数 rand() 的用法"
date: 2013-08-11 10:00:00 +0800
comments: true
tags: [Linux,C/C++,rand]
---

&#160; &#160; &#160; &#160;rand 函数不是真正的随机数生成器，而 srand() 会设置供 rand() 使用的随机数种子。如果你在第一次调用 rand() 之前没有调用 srand()，那么系统会为你自动调用 srand()。而使用同种子相同的数调用 rand() 会导致相同的随机数序列被生成。<!--more-->
## C/C++示例
~~~C++
#include<iostream>
#include<cstdlib>
#include<ctime>
int main()                             //主函数中获取一个随机数并且输出
{
	srand(time(0));                   //初始化随机数发生器
	std::cout<<rand()<<std::endl;     //输出随机数
	return 0;
} 
~~~

头文件中的 iostream 在这就不介绍了 ， 我详细说一下 cstdlib 库中的 srand 函数，它是随机数发生器的初始化函数。
~~~
原型：void srand(unsigned seed);
~~~
**用法：**它需要提供一个种子，这个种子会对应一个随机数，如果使用相同的种子后面的rand()函数会出现一样的随机数。如： srand(1); 直接使用1来初始化种子。不过为了防止随机数每次重复常常使用系统时间来初始化，即使用 time 函数来获得系统时间，它的返回值为从 00:00:00 GMT, January 1, 1970 到现在所持续的秒数，然后将 time\_t 型数据转化为 unsigned型 再传给 srand 函数，即： srand((unsigned) time(&t)); 还有一个经常用法，不需要定义 time\_t 型 t 变量，即： srand((unsigned) time(NULL)); 直接传入一个空指针，因为你的程序中往往并不需要经过参数获得的 t 数据。srand((int)getpid()); 使用程序目前进程的进程ID来作为初始化种子，在同一个程序中这个种子是固定的(需要添加头文件\#include &lt;unistd.h>)。

&#160; &#160; &#160; &#160;cstdlib 中还有一个很重要的函数就是 rand() 函数，他是生成随机数并且返回结果的函数，返回一个[0,RAND_MAX] 间的随机整数。rand() 产生伪随机数，srand函数提供种子，种子不同产生的随机数序列也不同，所以通常先调用srand函数 time(0)返回的是系统的时间（从 1970 年 1 月 1 日零时零分零秒到目前为止所经过的时间），单位：秒，种子不同当然产生的随机数相同几率就很小了。
&#160; &#160; &#160; &#160;第三个头文件 ctime 是 C/C++ 中的日期和时间头文件，内部有很多关于系统时间的属性和操作，具体的大家可以查看 [www.cplusplus.com](http://www.cplusplus.com/)。上边所说的 time(0) 函数即为这里的成员函数。
		



<br />
----
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;**Update: 2. Last-Modified: 2015-10-02 13:59**
